---
title: "Стан: памяць кампанента"
---

<Intro>

Часта ў выніку ўзаемадзеяння кампаненты павінны змяніць тое, што адлюстроўваецца на экране. Увод у форму павінен абнавіць поле ўводу, націсканне кнопкі «далей» на каруселі відарысаў павінна змяніць відарыс, які адлюстроўваецца, націсканне кнопкі «купіць» павінна дадаць прадукт у кошык. Кампаненты павінны ўмець «запамінаць»: бягучае ўваходнае значэнне, бягучы відарыс, кошык для пакупак. У React такая памяць кампанента называецца *стан*.

</Intro>

<YouWillLearn>

* Як дадаць пераменную стану з дапамогай хука [`useState`](/reference/react/useState)
* Якую пару значэнняў вяртае хук `useState`
* Як дадаць некалькі пераменных стану
* Чаму стан называецца лакальным

</YouWillLearn>

## Калі звычайнай пераменнай недастаткова {/*when-a-regular-variable-isnt-enough*/}

Вось кампанент, які адлюстроўвае відарыс скульптуры. Пры націсканні кнопкі «Далей» павінна паказацца наступная скульптура, змяніўшы значэнне `index` на `1`, затым на `2` і гэтак далей. Аднак гэта **не спрацуе** (можаце паспрабаваць!):

<Sandpack>

```js
import { sculptureList } from './data.js';

export default function Gallery() {
  let index = 0;

  function handleClick() {
    index = index + 1;
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button onClick={handleClick}>
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
      <p>
        {sculpture.description}
      </p>
    </>
  );
}
```

```js src/data.js
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
  margin-top: 5px;
  font-weight: normal;
  font-size: 100%;
}
img { width: 120px; height: 120px; }
button {
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
```

</Sandpack>

Апрацоўшчык падзей `handleClick` абнаўляе лакальную пераменную `index`. Але два моманты не даюць пабачыць змены:

1. **Лакальныя пераменныя не захоўваюцца паміж рэндэрамі.** Калі React рэндэрыць гэты кампанент у другі раз, ён рэндэрыць яго з нуля — не ўлічваючы ніякіх змен у лакальных пераменных.
2. **Змены ў лакальных пераменных не запускаюць паўторны рэндэр.** React не разумее, што яму трэба зноў адрэндэрыць кампанент з новымі данымі.

Для таго, каб новыя даныя з'явіліся ў кампаненце, трэба зрабіць дзве рэчы:

1. **Захаваць** даныя паміж рэндэрамі.
2. **Запусціць** рэндэр кампанента з новымі данымі (перарэндэр).

Хук [`useState`](/reference/react/useState) дае наступнае:

1. **Пераменную стану** для захавання даных паміж рэндэрамі.
2. **Функцыю задання стану** для абнаўлення пераменнай і запуску паўторнага рэндэру кампанента.

## Дадаванне пераменнай стану {/*adding-a-state-variable*/}

Каб дадаць пераменную стану, імпартуйце `useState` з React у пачатку файла:

```js
import { useState } from 'react';
```

Затым замяніце гэты радок:

```js
let index = 0;
```

на

```js
const [index, setIndex] = useState(0);
```

`index` — гэта пераменная стану, а `setIndex` — функцыя задання стану.

> Сінтаксіс `[` і `]` называецца [дэструктурызацый масіву](https://javascript.info/destructuring-assignment) і дазваляе чытаць значэнні з масіву. Масіў, які вяртае `useState`, заўсёды мае два элементы.

Вось як яны працуюць разам у `handleclick`:

```js
function handleClick() {
  setIndex(index + 1);
}
```

Цяпер націсканне кнопкі «Далей» пераключае бягучую скульптуру:

<Sandpack>

```js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);

  function handleClick() {
    setIndex(index + 1);
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button onClick={handleClick}>
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
      <p>
        {sculpture.description}
      </p>
    </>
  );
}
```

```js src/data.js
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
 margin-top: 5px;
 font-weight: normal;
 font-size: 100%;
}
img { width: 120px; height: 120px; }
button {
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
```

</Sandpack>

### Пазнаёмцеся з вашым першым хукам {/*meet-your-first-hook*/}

У React `useState`, як і любая іншая функцыя, якая пачынаецца з «`use`», называецца хукам.

*Хукі* — гэта спецыяльныя функцыі, даступныя толькі падчас [рэндэру](/learn/render-and-commit#step-1-trigger-a-render) React (пра што мы падрабязней раскажам на наступнай старонцы). Яны дазваляюць вам падключацца («hook into») да розных функцый React.

Стан — гэта толькі адна з такіх функцый, але вы пазнаёміцеся з іншымі хукамі пазней.

<Pitfall>

**Хукі (функцыі, якія пачынаюцца з `use`) можна выклікаць толькі на верхнім узроўні вашых кампанентаў або [вашых уласных хукаў.](/learn/reusing-logic-with-custom-hooks)** Вы не можаце выклікаць хукі ўнутры ўмоў, цыклаў або іншых укладзеных функцый. Хукі — гэта функцыі, але карысна разглядаць іх як безумоўныя заявы аб патрэбах вашага кампанента. Вы «выкарыстоўваеце» (use) функцыі React у верхняй частцы вашага кампанента падобна таму, як вы «імпартуеце» (import) модулі ў верхняй частцы вашага файла.

</Pitfall>

### Анатомія `useState` {/*anatomy-of-usestate*/}

Калі вы выклікаеце [`useState`](/reference/react/useState), вы кажаце React, што хочаце, каб гэты кампанент нешта запомніў:

```js
const [index, setIndex] = useState(0);
```
У гэтым выпадку вы хочаце, каб React запомніў `index`.

<Note>

У адпаведнасці з пагадненнем, гэту пару прынята называць як `const [something, setSomething]`. Вы можаце называць гэту пару як хочаце, але пагадненні палягчаюць разуменне розных праектаў.

</Note>

Адзіным аргументам для `useState` з'яўляецца **пачатковае значэнне** вашай пераменнай стану. У гэтым прыкладзе пачатковае значэнне `index` зададзена як `0` з дапамогай `useState(0)`.

Кожны раз, калі ваш кампанент рэндэрыцца, `useState` дае вам масіў, які змяшчае два значэнні:

1. **Пераменную стану** (`index`) са значэннем, якое вы захавалі.
2. **Функцыю задання стану** (`setIndex`), якая можа абнаўляць пераменную стану і прымусіць React паўторна адрэндэрыць кампанент.

Вось як гэта адбываецца:

```js
const [index, setIndex] = useState(0);
```

1. **Ваш кампанент рэндэрыцца ў першы раз.** Паколькі вы перадалі `0` у функцыю `useState` як пачатковае значэнне для `index`, яна верне `[0, setIndex]`. React запамінае, што `0` — гэта апошняе значэнне стану.
2. **Вы абнаўляеце стан.** Калі карыстальнік націскае кнопку, гэта выклікае `setIndex(index + 1)`. Паколькі `index` роўны `0`, таму насамрэч выклікаецца `setIndex(1)`. Гэта загадвае React запомніць, што `index` цяпер роўны `1`, і запускае яшчэ адзін рэндэр.
3. **Другі рэндэр вашага кампанента.** React па-ранейшаму бачыць `useState(0)`, але паколькі React *памятае*, што вы захавалі ў `index` значэнне `1`, таму ён вяртае `[1, setIndex]`.
4. І гэтак далей!

## Стварэнне ў кампаненце некалькіх пераменных стану {/*giving-a-component-multiple-state-variables*/}

У адным кампаненце вы можаце мець любую колькасць пераменных стану розных тыпаў. Гэты кампанент мае дзве пераменныя стану, лік `index` і лагічнае значэнне `showMore`, якое пераключаюцца, калі вы націскаеце кнопку «Паказаць падрабязную інфармацыю»:

<Sandpack>

```js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);

  function handleNextClick() {
    setIndex(index + 1);
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button onClick={handleNextClick}>
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <button onClick={handleMoreClick}>
        {showMore ? 'Паказаць' : 'Схаваць'} падрабязную інфармацыю
      </button>
      {showMore && <p>{sculpture.description}</p>}
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
    </>
  );
}
```

```js src/data.js
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
 margin-top: 5px;
 font-weight: normal;
 font-size: 100%;
}
img { width: 120px; height: 120px; }
button {
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
```

</Sandpack>

Пажадана мець некалькі пераменных стану, калі іх станы не звязаныя паміж сабой, як, напрыклад, `index` і `showMore` у гэтым прыкладзе. Але калі вы часта змяняеце дзве пераменныя стану разам, магчыма аб'яднанне іх у адну пераменную дапаможа спрасціць ваш код. Напрыклад, калі ў вас ёсць форма з вялікай колькасцю палёў, зручней мець адну пераменную стану, якая змяшчае аб'ект, чым мець па адной пераменнай стану на кожнае поле. На старонцы «[Выбар структуры стану](/learn/choosing-the-state-structure)» вы можаце знайсці больш дадатковых парад.

<DeepDive>

#### Як React даведаецца, які стан вярнуць? {/*how-does-react-know-which-state-to-return*/}

Магчыма, вы заўважылі, што выклік `useState` не атрымлівае ніякай інфармацыі аб тым, *на якую* пераменную стану ён спасылаецца. Няма «ідэнтыфікатара», які перадаецца ў `useState`, дык як ён ведае, якую з пераменных стану вярнуць? Ён выкарыстоўвае нейкую магію, накшталт разбору вашых функцый? Адказ — не.

Замест гэтага, каб забяспечыць іх лаканічны сінтаксіс, хукі **разлічваюць на стабільны парадак выклікаў на кожным рэндэры аднаго і таго ж кампанента.** Гэта добра працуе на практыцы, таму што калі вы будзеце прытрымлівацца правіла вышэй («выклікайце хукі толькі на верхнім узроўні»), хукі заўсёды будуць выклікацца ў адным і тым жа парадку. Акрамя таго, [убудова для лінтара](https://www.npmjs.com/package/eslint-plugin-react-hooks) дазваляе выявіць большасць памылак.

Пад капотам React захоўвае масіў пар станаў для кожнага кампанента. Ён таксама падтрымлівае бягучы індэкс пары, якому перад рэндэрам задаецца значэнне `0`. Кожны раз, калі вы выклікаеце `useState`, React дае вам наступную пару станаў і павялічвае індэкс. Больш даведацца аб гэтым механізме вы можаце ў артыкуле «[React Hooks: Not Magic, Just Arrays](https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-cd4f1857236e)» (Хукі ў React: не магія, а проста масівы).

У гэтым прыкладзе **не выкарыстоўваецца React**, але ён дае вам уяўленне аб тым, як `useState` працуе ўнутры:

<Sandpack>

```js src/index.js active
let componentHooks = [];
let currentHookIndex = 0;

// Як працуе useState унутры React (спрошчана).
function useState(initialState) {
  let pair = componentHooks[currentHookIndex];
  if (pair) {
    // Гэта не першы рэндэр,
    // таму пара стану ўжо існуе.
    // Вернем яе і падрыхтуемся да наступнага выкліку хука.
    currentHookIndex++;
    return pair;
  }

  // Гэта першы рэндэр,
  // таму ствараем пару стану і захоўваем яе.
  pair = [initialState, setState];

  function setState(nextState) {
    // Калі карыстальнік запытвае змену стану,
    // захоўваем новае значэнне ў пары.
    pair[0] = nextState;
    updateDOM();
  }

  // Захаваем пару для будучых рэндэраў
  // і падрыхтуемся да наступнага выкліку хука.
  componentHooks[currentHookIndex] = pair;
  currentHookIndex++;
  return pair;
}

function Gallery() {
  // Кожны выклік useState() атрымае наступную пару.
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);

  function handleNextClick() {
    setIndex(index + 1);
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  // У гэтым прыкладзе не выкарыстоўваецца React, таму
  // вяртаем выхадны аб'ект замест JSX.
  return {
    onNextClick: handleNextClick,
    onMoreClick: handleMoreClick,
    header: `«${sculpture.name}» ${sculpture.artist}`,
    counter: `${index + 1} з ${sculptureList.length}`,
    more: `${showMore ? 'Паказаць' : 'Схаваць'} падрабязную інфармацыю`,
    description: showMore ? sculpture.description : null,
    imageSrc: sculpture.url,
    imageAlt: sculpture.alt
  };
}

function updateDOM() {
  // Скідваем бягучы індэкс хука
  // перад рэндэрам кампанента.
  currentHookIndex = 0;
  let output = Gallery();

  // Абнаўляем DOM, каб ён адпавядаў выхаду (пераменнай output).
  // Гэта тое, што React робіць за вас.
  nextButton.onclick = output.onNextClick;
  header.textContent = output.header;
  moreButton.onclick = output.onMoreClick;
  moreButton.textContent = output.more;
  image.src = output.imageSrc;
  image.alt = output.imageAlt;
  if (output.description !== null) {
    description.textContent = output.description;
    description.style.display = '';
  } else {
    description.style.display = 'none';
  }
}

let nextButton = document.getElementById('nextButton');
let header = document.getElementById('header');
let moreButton = document.getElementById('moreButton');
let description = document.getElementById('description');
let image = document.getElementById('image');
let sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];

// Робім так, каб карыстальніцкі інтэрфейс адпавядаў першапачатковаму стану.
updateDOM();
```

```html public/index.html
<button id="nextButton">
  Next
</button>
<h3 id="header"></h3>
<button id="moreButton"></button>
<p id="description"></p>
<img id="image">

<style>
* { box-sizing: border-box; }
body { font-family: sans-serif; margin: 20px; padding: 0; }
button { display: block; margin-bottom: 10px; }
</style>
```

```css
button { display: block; margin-bottom: 10px; }
```

</Sandpack>

Для таго, каб выкарыстоўваць React, вам не абавязкова трэба разумець гэта, але гэта можа быць карыснай ментальнай мадэллю.

</DeepDive>

## Стан ізаляваны і прыватны {/*state-is-isolated-and-private*/}

Стан з'яўляецца лакальным для асобніка кампанента на экране. Іншымі словамі, **калі вы рэндэрыце адзін і той жа кампанент двойчы, кожная копія будзе мець цалкам ізаляваны стан!** Змена аднаго з іх не паўплывае на іншы.

У гэтым прыкладзе кампанент `Gallery`, паказаны раней, рэндэрыцца двойчы без змяненняў у яго логіцы. Паспрабуйце панаціскаць на кнопкі ўнутры кожнай галерэі. Заўважце, што іх станы незалежныя:

<Sandpack>

```js
import Gallery from './Gallery.js';

export default function Page() {
  return (
    <div className="Page">
      <Gallery />
      <Gallery />
    </div>
  );
}

```

```js src/Gallery.js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);

  function handleNextClick() {
    setIndex(index + 1);
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  return (
    <section>
      <button onClick={handleNextClick}>
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <button onClick={handleMoreClick}>
        {showMore ? 'Паказаць' : 'Схаваць'} падрабязную інфармацыю
      </button>
      {showMore && <p>{sculpture.description}</p>}
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
    </section>
  );
}
```

```js src/data.js
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
button { display: block; margin-bottom: 10px; }
.Page > * {
  float: left;
  width: 50%;
  padding: 10px;
}
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
  margin-top: 5px;
  font-weight: normal;
  font-size: 100%;
}
img { width: 120px; height: 120px; }
button {
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
```

</Sandpack>

Гэта тое, што адрознівае стан ад звычайных пераменных, якія вы можаце аб'явіць у верхняй частцы вашага модуля. Стан не прывязаны да пэўнага выкліку функцыі або месца ў кодзе, ён «лакальны» для пэўнага месца на экране. Вы адрэндэрылі два кампаненты `<Gallery />`, таму іх станы захоўваюцца асобна.

Таксама звярніце ўвагу на тое, што кампанент `Page` нічога не «ведае» пра стан кампанента `Gallery` і нават пра тое, ці ёсць ён у яго наогул. У адрозненне ад пропсаў, **стан з'яўляецца цалкам прыватным для кампанента, які яго аб'яўляе.** Бацькоўскі кампанент не можа змяніць яго. Дзякуючы гэтаму, дадаванне стану да любога кампанента або яго выдаленне не ўплывае на астатнія кампаненты.

Што рабіць, калі вы хочаце, каб абедзве галерэі сінхранізавалі свае станы? Правільны спосаб зрабіць гэта ў React — гэта *выдаліць* стан з даччыных кампанентаў і дадаць яго да іх найбліжэйшага агульнага бацькоўскага кампанента. Наступныя некалькі старонак будуць прысвечаны арганізацыі стану аднаго кампанента, але мы вернемся да гэтай тэмы на старонцы «[Сумеснае выкарыстанне стану кампанентамі.](/learn/sharing-state-between-components)»

<Recap>

* Выкарыстоўвайце пераменную стану калі кампаненту трэба «запомніць» нейкую інфармацыю паміж рэндэрамі.
* Пераменныя стану аб'яўляюцца з дапамогай выкліку хука `useState`.
* Хукі — гэта спецыяльныя функцыі, якія пачынаюцца з `use`. Яны дазваляюць падключацца («hook into») да функцый React, такіх як стан.
* Хукі могуць нагадваць імпарт: яны павінны выклікацца безумоўна. Выклік хукаў, у тым ліку `useState`, дзейнічае толькі на верхнім узроўні кампанента або іншага хука.
* Хук `useState` вяртае пару значэнняў: бягучы стан і функцыю для яго абнаўлення.
* У вас можа быць больш за адну пераменную стану. Унутры React супастаўляе іх па парадку.
* Стан з'яўляецца прыватным для кампанента. Калі вы рэндэрыце яго ў двух месцах, кожная копія атрымлівае свой уласны стан.

</Recap>



<Challenges>

#### Завяршыце галерэю {/*complete-the-gallery*/}

Калі вы націскаеце «Далей» на апошняй скульптуры, код выдае памылку. Выправіце логіку, каб прадухіліць памылку. Вы можаце зрабіць гэта, дадаўшы дадатковую логіку ў апрацоўшчык падзей або адключыўшы кнопку, калі дзеянне немагчыма.

Пасля ліквідацыі памылкі дадайце кнопку «Назад», якая паказвае папярэднюю скульптуру. Яна не павінна выдаваць памылку на першай скульптуры.

<Sandpack>

```js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);

  function handleNextClick() {
    setIndex(index + 1);
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button onClick={handleNextClick}>
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <button onClick={handleMoreClick}>
        {showMore ? 'Паказаць' : 'Схаваць'} падрабязную інфармацыю
      </button>
      {showMore && <p>{sculpture.description}</p>}
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
    </>
  );
}
```

```js src/data.js
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
button { display: block; margin-bottom: 10px; }
.Page > * {
  float: left;
  width: 50%;
  padding: 10px;
}
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
  margin-top: 5px;
  font-weight: normal;
  font-size: 100%;
}
img { width: 120px; height: 120px; }
```

</Sandpack>

<Solution>

Гэта дадае ахоўную логіку ўнутры абодвух апрацоўшчыкаў падзей і, калі неабходна, адключае кнопкі:

<Sandpack>

```js
import { useState } from 'react';
import { sculptureList } from './data.js';

export default function Gallery() {
  const [index, setIndex] = useState(0);
  const [showMore, setShowMore] = useState(false);

  let hasPrev = index > 0;
  let hasNext = index < sculptureList.length - 1;

  function handlePrevClick() {
    if (hasPrev) {
      setIndex(index - 1);
    }
  }

  function handleNextClick() {
    if (hasNext) {
      setIndex(index + 1);
    }
  }

  function handleMoreClick() {
    setShowMore(!showMore);
  }

  let sculpture = sculptureList[index];
  return (
    <>
      <button
        onClick={handlePrevClick}
        disabled={!hasPrev}
      >
        Назад
      </button>
      <button
        onClick={handleNextClick}
        disabled={!hasNext}
      >
        Далей
      </button>
      <h2>
        <i>«{sculpture.name}» </i> 
        {sculpture.artist}
      </h2>
      <h3>  
        ({index + 1} з {sculptureList.length})
      </h3>
      <button onClick={handleMoreClick}>
        {showMore ? 'Паказаць' : 'Схаваць'} падрабязную інфармацыю
      </button>
      {showMore && <p>{sculpture.description}</p>}
      <img 
        src={sculpture.url} 
        alt={sculpture.alt}
      />
    </>
  );
}
```

```js src/data.js hidden
export const sculptureList = [{
  name: 'Даніна нейрахірургіі',
  artist: 'Марта Колвін Андрадэ',
  description: 'Хаця Колвін пераважна вядомая сваімі абстрактнымі тэмамі, якія спасылаюцца на да-іспанскія сімвалы, гэтая гіганцкая скульптура, даніна павагі нейрахірургіі, з\'яўляецца адным з яе самых вядомых твораў мастацтва.',
  url: 'https://i.imgur.com/Mx7dA2Y.jpg',
  alt: 'Бронзавая статуя дзвюх скрыжаваных рук, якія далікатна трымаюць чалавечы мозг на кончыках пальцаў.'  
}, {
  name: 'Родавы Флораліс',
  artist: 'Эдуарда Каталана',
  description: 'Гэтая велізарная (75 футаў або 23 метры) серабрыстая кветка знаходзіцца ў Буэнас-Айрэсе. Яна спраектавана так, што можа закрываць пялёсткі ўвечары або пры моцным ветры і раскрываць іх раніцай.',
  url: 'https://i.imgur.com/ZF6s192m.jpg',
  alt: 'Гіганцкая металічная скульптура кветкі з люстэркавымі пялёсткамі і моцнымі тычынкамі.'
}, {
  name: 'Вечная прысутнасць',
  artist: 'Джон Вудраў Уілсан',
  description: 'Уілсан быў вядомы сваёй заклапочанасцю тэмамі роўнасці, сацыяльнай справядлівасці, а таксама істотнымі і духоўнымі якасцямі чалавецтва. Гэтая масіўная (7 футаў або 2,13 метра) бронзавая статуя ўяўляе тое, што ён назваў «сімвалічнай прысутнасцю чарнаскурых, прасякнутай пачуццём універсальнай чалавечнасці».',
  url: 'https://i.imgur.com/aTtVpES.jpg',
  alt: 'Скульптура з выявай чалавечай галавы здаецца ўсюдыіснай і панурай. Яна выпраменьвае спакой і ціхамірнасць.'
}, {
  name: 'Мааі',
  artist: 'Невядомы мастак',
  description: 'На востраве Пасхі знаходзіцца 1000 мааі, або захаваных манументальных статуй, створаных раннім народам Рапа-Нуі, якія, на думку некаторых, прадстаўлялі абагаўлёных продкаў.',
  url: 'https://i.imgur.com/RCwLEoQm.jpg',
  alt: 'Тры манументальныя каменныя бюсты з непрапарцыянальна вялікімі галовамі і змрочнымі тварамі.'
}, {
  name: 'Блакітная нана',
  artist: 'Нікі дэ Сен-Фаль',
  description: 'Наны — трыумфуючыя істоты, сімвалы жаноцкасці і мацярынства. Першапачаткова Сен-Фаль выкарыстаў тканіну і знайшоў прадметы для Нан, а пазней увёў поліэстэр для дасягнення больш яркага эфекту.',
  url: 'https://i.imgur.com/Sd1AgUOm.jpg',
  alt: 'Вялікая мазаічная скульптура мудрагелістай танцуючай жаночай фігуры ў маляўнічым касцюме, якая выпраменьвае радасць.'
}, {
  name: 'Канчатковая форма',
  artist: 'Барбара Хепуарт',
  description: 'Гэтая абстрактная бронзавая скульптура з\'яўляецца часткай серыі «Сям\'я чалавека», размешчанай у Ёркшырскім парку скульптур. Хепуарт вырашыла не ствараць літаральныя ўяўленні аб свеце, а распрацавала абстрактныя формы, натхнёныя людзьмі і ландшафтамі.',
  url: 'https://i.imgur.com/2heNQDcm.jpg',
  alt: 'Высокая скульптура з трох пастаўленых адзін на аднаго элементаў, якія нагадваюць фігуру чалавека.'
}, {
  name: 'Кавалер',
  artist: 'Ламідзі Аланадэ Фэйкі',
  description: "Праца Фэйкі, які з'яўляецца разьбяром па дрэве ў чацвёртым пакаленні, змяшала традыцыйныя і сучасныя тэмы ёруба.",
  url: 'https://i.imgur.com/wIdGuZwm.png',
  alt: 'Складаная драўляная скульптура воіна са сканцэнтраваным тварам на кані, упрыгожаная ўзорамі.'
}, {
  name: 'Вялікі пузы',
  artist: 'Аліна Шапачнікаў',
  description: "Шапачнікаў вядомая сваімі скульптурамі фрагментаванага цела як метафарай крохкасці і нясталасці маладосці і прыгажосці. Гэтая скульптура адлюстроўвае два вельмі рэалістычныя вялікія жываты, пакладзеныя адзін на аднаго, кожны вышынёй каля пяці футаў (1,5 м).",
  url: 'https://i.imgur.com/AlHTAdDm.jpg',
  alt: 'Скульптура нагадвае каскад зморшчын, зусім іншы, чым жываты ў класічных скульптурах.'
}, {
  name: 'Тэракотовая армія',
  artist: 'Невядомы мастак',
  description: 'Тэракотавая армія — гэта калекцыя тэракотавых скульптур, якія адлюстроўваюць армію Цынь Шыхуан-дзі, першага імператара Кітая. Войска налічвала больш за 8 тысяч воінаў, 130 калясніц з 520 коньмі і 150 кавалерыйскіх коней.',
  url: 'https://i.imgur.com/HMFmH6m.jpg',
  alt: '12 тэракотавых скульптур урачыстых воінаў, кожная з унікальным выразам твару і даспехамі.'
}, {
  name: 'Месяцовы пейзаж',
  artist: 'Луіза Нэвельсан',
  description: 'Нэвельсан была вядомая тым, што ачышчала аб\'екты з руін Нью-Ёрка, якія пазней яна збярэ ў манументальныя канструкцыі. У гэтай статуі яна выкарыстала разрозненыя часткі, такія як ложак, шпільку для жангліравання і фрагмент сядзення, прыбіўшы і склеіўшы іх у скрынкі, якія адлюстроўваюць уплыў геаметрычнай абстракцыі прасторы і формы кубізму.',
  url: 'https://i.imgur.com/rN7hY6om.jpg',
  alt: 'Чорная матавая скульптура, дзе асобныя элементы першапачаткова неадрозныя.'
}, {
  name: 'Арэол',
  artist: 'Ранджані Шэтар',
  description: 'Шэтар спалучае традыцыйнае і сучаснае, натуральнае і індустрыяльнае. Яе мастацтва засяроджана на ўзаемаадносінах чалавека і прыроды. Яе праца была апісана як пераканаўчая як у абстрактным, так і ў вобразным сэнсе, якая кідае выклік гравітацыі і ўяўляе сабой «вытанчаны сінтэз малаверагодных матэрыялаў».',
  url: 'https://i.imgur.com/okTpbHhm.jpg',
  alt: 'Бледная скульптура, падобная на дрот, усталяваная на бетоннай сцяне і спускаецца на падлогу. Здаецца вельмі лёгкай.'
}, {
  name: 'Бегемоты',
  artist: 'Тайбэйскі заапарк',
  description: 'Заапарк Тайбэя заказаў плошчу бегемотаў, на якой гулялі пагружаныя ў ваду бегемоты.',
  url: 'https://i.imgur.com/6o5Vuyu.jpg',
  alt: 'Група бронзавых скульптур бегемотаў, якія выходзяць з тратуара, нібы яны плывуць.'
}];
```

```css
button { display: block; margin-bottom: 10px; }
.Page > * {
  float: left;
  width: 50%;
  padding: 10px;
}
h2 { margin-top: 10px; margin-bottom: 0; }
h3 {
  margin-top: 5px;
  font-weight: normal;
  font-size: 100%;
}
img { width: 120px; height: 120px; }
```

</Sandpack>

Звярніце ўвагу, як пераменныя `hasPrev` і `hasNext` выкарыстоўваюцца *адначасова* і ў JSX і ўнутры апрацоўшчыка падзей! Гэты зручны шаблон працуе таму, што функцыі апрацоўшчыкаў падзей [«замыкаюць»](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures) любыя пераменныя, аб'яўленыя падчас рэндэру.

</Solution>

#### Выправіце палі ўводу, якія захраслі {/*fix-stuck-form-inputs*/}

Калі вы ўводзіце ў палі ўводу, нічога не з'яўляецца. Падобна на тое, што значэнні ўводу «захраслі» з пустымі радкамі. `value` першага `<input>` зададзена так, каб заўсёды супадаць з пераменнай `firstName`, а `value` другога `<input>` зададзена так, каб заўсёды супадаць з пераменнай `lastName`. Гэта правільна. Абодва ўводы маюць апрацоўшчыкі падзей `onChange`, якія спрабуюць абнавіць пераменныя на аснове апошняга ўводу карыстальніка (`e.target.value`). Аднак здаецца, што пераменныя не «запамінаюць» свае значэнні паміж паўторнымі рэндэрамі. Выправіце гэта, выкарыстоўваючы пераменныя стану.

<Sandpack>

```js
export default function Form() {
  let firstName = '';
  let lastName = '';

  function handleFirstNameChange(e) {
    firstName = e.target.value;
  }

  function handleLastNameChange(e) {
    lastName = e.target.value;
  }

  function handleReset() {
    firstName = '';
    lastName = '';
  }

  return (
    <form onSubmit={e => e.preventDefault()}>
      <input
        placeholder="Імя"
        value={firstName}
        onChange={handleFirstNameChange}
      />
      <input
        placeholder="Прозвішча"
        value={lastName}
        onChange={handleLastNameChange}
      />
      <h1>Вітаем, {firstName} {lastName}</h1>
      <button onClick={handleReset}>Скінуць</button>
    </form>
  );
}
```

```css 
h1 { margin-top: 10px; }
```

</Sandpack>

<Solution>

Спачатку імпартуйце `useState` з React. Затым замяніце `firstName` і `lastName` пераменнымі стану, аб'яўленымі праз выклік `useState`. Нарэшце, замяніце кожнае прызначэнне `firstName = ...` на `setFirstName(...)` і зрабіце тое ж самае для `lastName`. Не забудзьце таксама абнавіць функцыю `handleReset`, каб кнопка скіду таксама працавала.

<Sandpack>

```js
import { useState } from 'react';

export default function Form() {
  const [firstName, setFirstName] = useState('');
  const [lastName, setLastName] = useState('');

  function handleFirstNameChange(e) {
    setFirstName(e.target.value);
  }

  function handleLastNameChange(e) {
    setLastName(e.target.value);
  }

  function handleReset() {
    setFirstName('');
    setLastName('');
  }

  return (
    <form onSubmit={e => e.preventDefault()}>
      <input
        placeholder="Імя"
        value={firstName}
        onChange={handleFirstNameChange}
      />
      <input
        placeholder="Прозвішча"
        value={lastName}
        onChange={handleLastNameChange}
      />
      <h1>Вітаю, {firstName} {lastName}</h1>
      <button onClick={handleReset}>Скінуць</button>
    </form>
  );
}
```

```css 
h1 { margin-top: 10px; }
```

</Sandpack>

</Solution>

#### Выправіце збой {/*fix-a-crash*/}

Вось невялікая форма, якая павінна дазволіць карыстальніку пакінуць водгук. Калі водгук адпраўлены, павінна з'явіцца паведамленне з падзякай. Аднак, яна дае збой з паведамленнем пра памылку, якая кажа «Адрэндэрана менш хукаў, чым чакалася». Ці можаце выявіць памылку і выправіць яе?

<Hint>

Ці існуюць нейкія абмежаванні на тое, _дзе_ могуць быць выкліканы хукі? Ці парушае гэты кампанент якія-небудзь правілы? Праверце, ці ёсць якія-небудзь каментарыі, якія адключаюць праверку лінтара — у такіх месцах часта хаваюцца памылкі!

</Hint>

<Sandpack>

```js
import { useState } from 'react';

export default function FeedbackForm() {
  const [isSent, setIsSent] = useState(false);
  if (isSent) {
    return <h1>Дзякуй!</h1>;
  } else {
    // eslint-disable-next-line
    const [message, setMessage] = useState('');
    return (
      <form onSubmit={e => {
        e.preventDefault();
        alert(`Адпраўка: "${message}"`);
        setIsSent(true);
      }}>
        <textarea
          placeholder="Паведамленне"
          value={message}
          onChange={e => setMessage(e.target.value)}
        />
        <br />
        <button type="submit">Адправіць</button>
      </form>
    );
  }
}
```

</Sandpack>

<Solution>

Хукі можна выклікаць толькі на верхнім узроўні функцыі кампанента. Тут жа, першае вызначэнне `isSent` прытрымліваецца гэтага правіла, але вызначэнне `message` — укладзена ва ўмову.

Перамясціце яго з умовы, каб выправіць праблему:

<Sandpack>

```js
import { useState } from 'react';

export default function FeedbackForm() {
  const [isSent, setIsSent] = useState(false);
  const [message, setMessage] = useState('');

  if (isSent) {
    return <h1>Thank you!</h1>;
  } else {
    return (
      <form onSubmit={e => {
        e.preventDefault();
        alert(`Адпраўка: "${message}"`);
        setIsSent(true);
      }}>
        <textarea
          placeholder="Паведамленне"
          value={message}
          onChange={e => setMessage(e.target.value)}
        />
        <br />
        <button type="submit">Адправіць</button>
      </form>
    );
  }
}
```

</Sandpack>

Памятайце, хукі павінны выклікацца безумоўна і заўсёды ў адным і тым жа парадку!

Таксама вы можаце выдаліць непатрэбную галіну `else`, каб паменшыць укладзенасць. Тым не меней, па-ранейшаму важна, каб усе выклікі хукаў адбываліся *да* першага `return`.

<Sandpack>

```js
import { useState } from 'react';

export default function FeedbackForm() {
  const [isSent, setIsSent] = useState(false);
  const [message, setMessage] = useState('');

  if (isSent) {
    return <h1>Дзякуй!</h1>;
  }

  return (
    <form onSubmit={e => {
      e.preventDefault();
      alert(`Адпраўка: "${message}"`);
      setIsSent(true);
    }}>
      <textarea
        placeholder="Паведамленне"
        value={message}
        onChange={e => setMessage(e.target.value)}
      />
      <br />
      <button type="submit">Адправіць</button>
    </form>
  );
}
```

</Sandpack>

Паспрабуйце паставіць другі выклік `useState` пасля ўмовы `if` і звярніце ўвагу, як гэта зноў зламала код.

Калі ваш лінтар [сканфігураваны для React](/learn/editor-setup#linting), то вы павінны ўбачыць паведамленне ад лінтара, калі робіце падобную памылку. Калі вы не бачыце памылкі пры тэсціраванні няправільнага кода лакальна, вам трэба наладзіць лінтаванне для вашага праекта.

</Solution>

#### Выдаліце непатрэбны стан {/*remove-unnecessary-state*/}

Пры націсканні на кнопку, праграма павінна запытаць імя карыстальніка, а затым адлюстроўваць прывітанне. Вы спрабавалі выкарыстоўваць стан, каб захаваць імя, але па нейкай прычыне заўсёды паказваецца «Вітаю, !».

Каб выправіць гэты код, выдаліце непатрэбную пераменную стану. (Мы абмяркуем [чаму гэта не спрацавала](/learn/state-as-a-snapshot) пазней.)

Ці можаце растлумачыць, чаму гэтая пераменная стану не была патрэбна?

<Sandpack>

```js
import { useState } from 'react';

export default function FeedbackForm() {
  const [name, setName] = useState('');

  function handleClick() {
    setName(prompt('Як вас завуць?'));
    alert(`Вітаю, ${name}!`);
  }

  return (
    <button onClick={handleClick}>
      Вітаць
    </button>
  );
}
```

</Sandpack>

<Solution>

Вось выпраўленая версія, якая выкарыстоўвае звычайную пераменную `name`, абвешчаную ў функцыі, якой яна патрэбна:

<Sandpack>

```js
export default function FeedbackForm() {
  function handleClick() {
    const name = prompt('Як вас завуць?');
    alert(`Вітаю, ${name}!`);
  }

  return (
    <button onClick={handleClick}>
      Вітаць
    </button>
  );
}
```

</Sandpack>

Пераменная стану неабходна толькі для захавання інфармацыі паміж паўторнымі рэндэрамі кампанента. У рамках аднаго апрацоўшчыка падзей добра падыдзе звычайная пераменная. Не ўводзьце пераменную стану, калі дастаткова звычайнай пераменнай.

</Solution>

</Challenges>
